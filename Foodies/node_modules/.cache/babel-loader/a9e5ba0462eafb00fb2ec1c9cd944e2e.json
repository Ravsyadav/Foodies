{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ravs yadav\\\\Documents\\\\Food Delivery Website\\\\Foodie\\\\src\\\\Components\\\\Wallpaper.js\";\nimport { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport '../Styles/wallpaper.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Wallpaper extends Component {\n  constructor() {\n    super();\n\n    this.onTextChanged = event => {\n      const searchtext = event.target.value;\n      const {\n        restaurants\n      } = this.state;\n      let suggestions = [];\n\n      if (searchtext.length > 0) {\n        suggestions = restaurants.filter(item => item.name.toLowerCase().includes(searchtext.toLowerCase()));\n      }\n\n      this.setState({\n        text: searchtext,\n        suggestions: suggestions\n      });\n    };\n\n    this.goToRestaurant = item => {\n      this.props.history.push(`/details?id${item._id}`);\n    };\n\n    this.renderSuggestions = () => {\n      const {\n        suggestions\n      } = this.state;\n\n      if (suggestions.length == 0) {\n        return null;\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"suggestionsBox\",\n        children: suggestions.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => this.goToRestaurant(item),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestionImage\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require('../' + item.image).default,\n                alt: \"myimg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestionText w-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.name, \", \", item.locality]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: [\"Rating: \", item.aggregate_rating, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-danger float-end\",\n                  children: \"Order Now >\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = {\n      text: '',\n      restaurants: [],\n      suggestions: []\n    };\n  }\n\n  onOptionsChange(event) {\n    const city_id_city_name = event.target.value;\n    const city_id = city_id_city_name.split('_')[0];\n    const cityName = city_id_city_name.split('_')[1];\n    localStorage.setItem(\"city_id\", city_id); // fetch the restaurants for the location  selected by the user\n\n    axios.get(`http://localhost:5402/api/getRestaurantByLocation/${cityName}`).then(result => {\n      this.setState({\n        restaurants: result.data.restaurants\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      cities\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: require('../Assets/homepageimg.png').default,\n        className: \"homeImage\",\n        alt: \"homeimage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imageText\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"../Assets/logo1.png\",\n            className: \"logo\",\n            alt: \"image not found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headerText\",\n          children: \"Find the best restaurants, caf\\xE9s, and bars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"locationOptions row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-5 location-wrapper text-md-end text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"locationDropDown\",\n            onChange: event => this.onOptionsChange(event),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"0\",\n              disabled: true,\n              selected: true,\n              children: \"Select Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), cities.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item.city_id + '_' + item.city,\n                children: [item.name, \", \", item.city]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 44\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-7 search-wrapper text-md-start text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"restaurantSearch\",\n            type: \"text\",\n            placeholder: \"Search the Restaurants\",\n            onChange: this.onTextChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), this.renderSuggestions()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withRouter(Wallpaper);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/Ravs yadav/Documents/Food Delivery Website/Foodie/src/Components/Wallpaper.js"],"names":["Component","axios","withRouter","Wallpaper","constructor","onTextChanged","event","searchtext","target","value","restaurants","state","suggestions","length","filter","item","name","toLowerCase","includes","setState","text","goToRestaurant","props","history","push","_id","renderSuggestions","map","index","require","image","default","locality","aggregate_rating","onOptionsChange","city_id_city_name","city_id","split","cityName","localStorage","setItem","get","then","result","data","catch","error","console","log","render","cities","city"],"mappings":"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","sourcesContent":["\r\nimport { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../Styles/wallpaper.css';\r\n\r\nclass Wallpaper extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            text: '',\r\n            restaurants: [],\r\n            suggestions: []\r\n        };\r\n    }\r\n\r\n    onOptionsChange(event) {\r\n        const city_id_city_name = event.target.value;\r\n        const city_id = city_id_city_name.split('_')[0];\r\n        const cityName = city_id_city_name.split('_')[1];\r\n        localStorage.setItem(\"city_id\", city_id);\r\n\r\n        // fetch the restaurants for the location  selected by the user\r\n        axios.get(`http://localhost:5402/api/getRestaurantByLocation/${cityName}`)\r\n            .then(result => {\r\n                this.setState({\r\n                    restaurants: result.data.restaurants\r\n                });\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    onTextChanged = (event) => {\r\n        const searchtext = event.target.value;\r\n        const  { restaurants } = this.state;\r\n        let suggestions = [];\r\n\r\n        if (searchtext.length > 0) {\r\n            suggestions = restaurants.filter(item => item.name.toLowerCase().includes(searchtext.toLowerCase()))\r\n        }\r\n\r\n        this.setState({\r\n            text: searchtext,\r\n            suggestions: suggestions\r\n        });\r\n    }\r\n\r\n    goToRestaurant = (item) => {\r\n        this.props.history.push(`/details?id${item._id}`);\r\n    }\r\n\r\n    renderSuggestions = () => {\r\n        const { suggestions } = this.state;\r\n        if (suggestions.length == 0) {\r\n            return null;\r\n        }\r\n        return (\r\n            <ul className=\"suggestionsBox\">\r\n                {\r\n                    suggestions.map((item, index) => {\r\n                        return (\r\n                            <li key={index} onClick={() => this.goToRestaurant(item)}>\r\n                                <div className=\"suggestionImage\">\r\n                                    <img src={require('../' + item.image).default} alt=\"myimg\"/>\r\n                                </div>\r\n                                <div className=\"suggestionText w-100\">\r\n                                    <div>\r\n                                        {item.name}, {item.locality}\r\n                                    </div>\r\n                                    <div className=\"text-muted\">\r\n                                        Rating: {item.aggregate_rating}\r\n                                        <span className=\"text-danger float-end\">\r\n                                            Order Now >\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { cities } = this.props;\r\n        return (\r\n            <>\r\n                <img src={require('../Assets/homepageimg.png').default} className=\"homeImage\" alt=\"homeimage\" />\r\n                <div className=\"imageText\">\r\n                    <div className=\"logo\">\r\n                        <img src= \"../Assets/logo1.png\" className=\"logo\" alt=\"image not found\"/>\r\n                    </div>\r\n                    <div className=\"headerText\">\r\n                        Find the best restaurants, caf√©s, and bars\r\n                    </div>\r\n                </div>\r\n                <div className=\"locationOptions row\">\r\n                    <div className=\"col-12 col-md-5 location-wrapper text-md-end text-center\">\r\n                        <select className=\"locationDropDown\" onChange={(event) => this.onOptionsChange(event)}>\r\n                            <option value=\"0\" disabled selected>Select Location</option>\r\n                            {\r\n                                cities.map((item, index) => {\r\n                                    return <option key={index} value={item.city_id + '_' + item.city}>{item.name}, {item.city}</option>\r\n                                })\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"col-12 col-md-7 search-wrapper text-md-start text-center\">\r\n                        <input className=\"restaurantSearch\" type=\"text\" placeholder=\"Search the Restaurants\" onChange={this.onTextChanged}/>\r\n                        {\r\n                            this.renderSuggestions()\r\n                        }\r\n                    </div>  \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Wallpaper);"]},"metadata":{},"sourceType":"module"}